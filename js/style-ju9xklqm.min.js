const styleId=getParameterByName("id"),pageId=getParameterByName("pageId");function getParameterByName(e,t){t||(t=window.location.href),t=t.toLowerCase(),e=e.replace(/[\[\]]/g,"\\$&").toLowerCase();let a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}async function createStyleUrl(e,t,a){var n="/data/beers-style-";return n+=e,t<1&&(t=1),n+="-page-"+t+".json",a?"."+n:n}function showOfflineNotification(){"serviceWorker"in navigator&&caches.open("beer-data").then(function(e){let t="https://deanhume.github.io/beer"+createStyleUrl(styleId,pageId,!1);e.match(t).then(function(e){if(null!=e&&e.ok&&null===localStorage.getItem(t)){document.querySelector("#offline-notification").MaterialSnackbar.showSnackbar({message:"This page is now available offline"}),localStorage.setItem(t,!0)}})})}function createHeroText(e){return'<div class="mdl-grid style_name style_hero_text">{{styleName}}</div>'.replace("{{styleName}}",e)}async function buildPageTitles(){const e=await fetch("./data/styles.json"),t=await e.json();document.getElementById("styleName").innerHTML+=createHeroText(t.name),document.getElementById("styleDescription").innerHTML+=t.description,document.title="Progressive Beer - "+t.name}async function init(){let e=`https://z2s71hp3o9.execute-api.us-east-1.amazonaws.com/default/beer-styles?id=${styleId}&pageId=${pageId}`;const t=await fetch(e),a=await t.text();setTimeout(showOfflineNotification,2e3),buildPageTitles(),document.getElementById("main").innerHTML=a,document.getElementById("loading-button").style.display="none"}init();
